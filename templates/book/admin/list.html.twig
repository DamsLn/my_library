{% extends 'base.html.twig' %}

{% block title %}Liste des livres
{% endblock %}

{% block body %}
	<div class="px-16 w-full">
		<div class="flex flex-col">
			<div class="overflow-x-auto sm:mx-0.5 lg:mx-0.5">
				<div class="py-2 inline-block min-w-full sm:px-6 lg:px-8">
					<div class="overflow-hidden">
						<table class="min-w-full">
							<thead class="bg-white border-b">
								<tr>
									<th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
										#
									</th>
									<th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
										Titre
									</th>
									<th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
										Description
									</th>
									<th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
										Auteur
									</th>
									<th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
										Date de création
									</th>
									<th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">
										Date de denière mise à jour
									</th>
								</tr>
							</thead>
							<tbody>
                                {% for book in books %}                            
                                    <tr class="even:bg-gray-100 odd:bg-white border-b">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{ book.id }}</td>
                                        <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                                            {{ book.title }}
                                        </td>
                                        <td class="text-sm text-gray-900 font-light px-6 py-4">
                                            {{ book.description|length > 100 ? book.description|slice(0, 100) ~ '...' : book.description }}
                                        </td>
                                        <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                                            {{ book.author }}
                                        </td>
                                        <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                                            {{ book.createdAt|date('d/m/Y') }}
                                        </td>
                                        <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
                                            {{ book.updatedAt|date('d/m/Y') }}
                                        </td>
                                    </tr>
                                {% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
